<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Social — Responsive Frontend</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{
      --bg: #fafafa;
      --card: #ffffff;
      --muted: #8a8a8a;
    }

    body{
      background: var(--bg);
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      margin: 0;
      transition: background-color 0.3s ease;
    }

    .topbar {
      background: var(--card);
      border-bottom: 1px solid #eee;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1040;
      transition: background-color 0.3s ease;
    }

    .app-logo {
      font-weight: 700;
      letter-spacing: 1px;
    }

    .profile-avatar {
      width: 44px;
      height: 44px;
      object-fit: cover;
      border-radius: 50%;
    }

    .main-container {
      margin-top: 70px;
    }

    .main-row {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    .left-col, .right-col, .center-col {
      transition: all 0.5s ease-in-out;
    }

    .post-card {
        background: transparent;
		border: none;
		width: 90%;
		justify-self: center;
		box-shadow: none;
		margin-bottom: 20px;
    }

    .post-image {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 0;
    }
    
    .story-card {
      background-color: transparent;
      border: none;
      box-shadow: none;
    }

    .story-card .d-flex::-webkit-scrollbar {
        height: 6px;
    }
    
    .story-card .d-flex::-webkit-scrollbar-track {
        background: transparent;
    }

    .story-card .d-flex::-webkit-scrollbar-thumb {
        background-color: var(--bg);
        border-radius: 10px;
        border: 2px solid transparent;
    }

    .story {
      width: 80px;
      text-align: center;
      font-size: 12px;
      flex-shrink: 0;
      position: relative;
    }

    .story img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      padding: 3px;
      background: linear-gradient(45deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);
    }

    .story.me img {
      background: #ccc;
    }

    .story-plus-icon {
        position: absolute;
        bottom: 15px;
        right: 15px;
        background-color: white;
        border-radius: 50%;
        border: 2px solid white;
        width: 24px;
        height: 24px;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 0 5px rgba(0,0,0,0.2);
        cursor: pointer;
        z-index: 2;
    }
    .story-plus-icon i {
        color: #0095f6;
        font-size: 18px;
    }

    .like-btn {
      cursor: pointer;
      user-select: none;
    }

    .actions {
      font-size: 20px;
    }
    
    .right-col .card {
      background-color: transparent;
      border: none;
      box-shadow: none;
    }
    
    .nav .fa-solid, 
    .nav .fa-regular {
      color: #000;
      font-size: 20px;
    }

    .nav .nav-link span {
      color: #000;
    }

    .menu-separator {
      border-top: 1px solid #eee;
      margin: 10px 0;
    }
    
    @media (max-width: 599.98px) {
        .left-col, .right-col {
            display: none !important;
        }
        .main-container {
            margin: 70px 0 60px 0;
        }
		
		.post-card {
			background: transparent;
			border: none;
			width: 100%;
			justify-self: center;
			box-shadow: none;
			margin-bottom: 20px;
		}		
        .center-col {
            max-width: 100%;
			padding-left: 5px;
			padding-right: 5px;
		}
		.content{
			padding: 0px 7px 0px 7px;
		}
        .bottom-nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--card);
            border-top: 1px solid #eee;
            z-index: 1040;
            display: flex;
            justify-content: space-between;
            padding: 10px 1rem;
        }
        .bottom-nav-bar .nav-link {
            padding: 0;
        }
        .bottom-nav-bar .fa-solid, .bottom-nav-bar .fa-regular {
            font-size: 24px;
        }
        .topbar .fa-bell {
            font-size: 24px;
            color: #000;
        }
    }
    
    @media (min-width: 600px) and (max-width: 991.98px) {
        .left-col {
            padding: 0;
            width: 70px;
            height: calc(100vh - 70px);
            position: fixed;
            top: 70px;
            left: 0;
            overflow-y: auto;
        }

        .left-col .nav-link span, .left-col .card-body {
            display: none;
        }
        .right-col {
            display: none !important;
        }
        .center-col {
            width: calc(100% - 70px);
            margin-left: 70px;
        }
        .main-container .main-row {
          justify-content: flex-end;
        }
    }

    @media (min-width: 992px){
      .main-container {
        padding: 0;
      }
      .left-col{ 
        width: 250px; 
        height: calc(100vh - 70px); 
        position: fixed; 
        top: 70px; 
        left: 0; 
        overflow-y: auto; 
        border-radius: 0;
      }
      .left-col .card {
        background: transparent;
        border: none;
        box-shadow: none;
      }
      .center-col{ 
        width: 50%; 
        overflow-y: auto; 
      }
      .right-col{ 
        width: 300px; 
        height: calc(100vh - 70px); 
        position: fixed; 
        top: 70px; 
        right: 0; 
        overflow-y: auto; 
      }
    }

    .stories-container {
      position: relative;
    }

    .stories-container .scroll-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: var(--card);
      border: 1px solid #ccc;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      opacity: 0.8;
      transition: opacity 0.3s, visibility 0.3s;
    }

    .stories-container .scroll-btn:hover {
        opacity: 1;
    }

    .stories-container .scroll-btn.left {
      left: 0px;
    }

    .stories-container .scroll-btn.right {
      right: 0px;
    }

    .stories-container .scroll-btn.hidden {
        opacity: 0;
        visibility: hidden;
    }
    
    .topbar .d-md-none[data-bs-toggle="offcanvas"] {
      padding: 0;
      font-size: 0;
    }
    .topbar .d-md-none[data-bs-toggle="offcanvas"]:after {
      content: 'Menu';
      display: none;
    }

    /* Collage CSS */
    .collage-container {
        display: flex;
        gap: 2px;
        height: 400px; /* Adjust height as needed */
    }
    .collage-container .main-photo {
        flex: 2;
        object-fit: cover;
        height: 100%;
    }
    .collage-container .side-photos {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 2px;
    }
    .collage-container .side-photos img {
        width: 100%;
        height: 50%;
        object-fit: cover;
    }
    
    /* Carousel CSS */
    .post-carousel {
        position: relative;
    }
    .carousel-control-prev, .carousel-control-next {
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    .post-carousel:hover .carousel-control-prev,
    .post-carousel:hover .carousel-control-next {
        opacity: 1;
    }
    .carousel-item img {
        width: 100%;
        height: auto;
    }
    
    /* Modal styles for a better look */
    #newPostModal .modal-content {
      border-radius: 12px;
      border: none;
    }

    .form-check-label {
      cursor: pointer;
    }

  </style>
</head>
<body>

<!-- Topbar -->
<nav class="navbar topbar py-2">
  <div class="container-fluid d-flex align-items-center">
    <div class="d-flex align-items-center gap-3">
      <a class="navbar-brand app-logo me-0" href="#">YourBrand</a>
    </div>

    <form class="d-none d-md-flex mx-auto w-50">
      <input class="form-control" type="search" placeholder="Search" aria-label="Search">
    </form>

    <div class="d-flex align-items-center gap-3">
        <a class="nav-link d-md-none" href="#"><i class="fa-regular fa-bell"></i></a>
        <img src="https://i.pravatar.cc/150?img=3" alt="avatar" class="profile-avatar d-none d-md-block">
        <button class="btn btn-link d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu"><i class="fa-solid fa-bars"></i></button>
    </div>
  </div>
</nav>

<div class="container main-container">
  <div class="row gx-4 main-row">

    <!-- LEFT: nav + profile -->
    <aside class="col-12 col-lg-3 mb-4 left-col">
      <div class="card p-3 h-100 d-flex flex-column">
        <div class="d-flex align-items-center gap-3 mb-3">
          <img src="https://i.pravatar.cc/150?img=3" class="profile-avatar" alt="avatar">
          <div><div class="fw-bold">username_here</div><div class="text-muted small">Full Name</div></div>
        </div>
        <div class="menu-separator"></div>
			<nav class="nav flex-column flex-grow-1">
			  <a class="nav-link d-flex align-items-center gap-2" href="#"><i class="fa-solid fa-house"></i> <span>Home</span></a>
			  <a class="nav-link d-flex align-items-center gap-2 d-none d-md-flex" href="#"><i class="fa-regular fa-bell top-icon"></i><span>Notification</span></a>
			  <a class="nav-link d-flex align-items-center gap-2" href="#"><i class="fa-regular fa-compass"></i> <span>Explore</span></a>
			  <a class="nav-link d-flex align-items-center gap-2" href="#"><i class="fa-solid fa-clapperboard"></i> <span>Reels</span></a>
              <a class="nav-link d-flex align-items-center gap-2" href="#" data-bs-toggle="modal" data-bs-target="#newPostModal"><i class="fa-solid fa-plus"></i> <span>Create</span></a>
			  <a class="nav-link d-flex align-items-center gap-2" href="#"><i class="fa-regular fa-paper-plane"></i> <span>Messages</span></a>
			  <a class="nav-link d-flex align-items-center gap-2" href="#"><i class="fa-regular fa-user"></i> <span>Profile</span></a>
			  <a class="nav-link d-flex align-items-center gap-2 mt-auto" href="#"><i class="fa-solid fa-gear"></i> <span>Settings</span></a>
			</nav>
      </div>
    </aside>

    <!-- CENTER: feed scrollable -->
    <main class="col-12 col-lg-6 center-col" id="post-feed">

      <!-- Stories row with navigation arrows -->
      <div class="card mb-4 story-card stories-container">
        <div class="d-flex gap-3 overflow-auto story-scroll-area">
          <div class="story me">
            <img src="https://i.pravatar.cc/150?img=3" alt="my story">
            <div class="pt-1">Your Story</div>
            <div class="story-plus-icon" data-bs-toggle="modal" data-bs-target="#newPostModal">
              <i class="fas fa-plus"></i>
            </div>
          </div>
          <!-- 10 stories -->
          <div class="story"><img src="https://i.pravatar.cc/150?img=10"><div class="pt-1">user1</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=11"><div class="pt-1">user2</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=12"><div class="pt-1">user3</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=13"><div class="pt-1">user4</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=14"><div class="pt-1">user5</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=15"><div class="pt-1">user6</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=16"><div class="pt-1">user7</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=17"><div class="pt-1">user8</div></div>
          <div class="story"><img src="https://i.pravatar.cc/150?img=18"><div class="pt-1">user9</div></div>
        </div>
        <div id="scroll-btn-left" class="scroll-btn left" onclick="scrollStories(-1)">
            <i class="fa-solid fa-chevron-left"></i>
        </div>
        <div id="scroll-btn-right" class="scroll-btn right" onclick="scrollStories(1)">
            <i class="fa-solid fa-chevron-right"></i>
        </div>
      </div>

      <!-- Example Posts -->
      <article class="post-card">
        <div class="d-flex align-items-center gap-3 mb-2 content">
          <img src="https://i.pravatar.cc/150?img=5" class="profile-avatar">
          <div><div class="fw-bold">alice</div><div class="text-muted small">Sept 12, 2025</div></div>
        </div>
        <img src="https://picsum.photos/800/800?random=1" alt="post" class="post-image">
		<div class="content">
			<div class="d-flex justify-content-between align-items-center" style="margin-top: 5px;">
			  <div class="actions"><span class="me-3 like-btn" role="button">❤</span><span class="me-3" role="button"><i class="fa-regular fa-comment"></i></span><span class="me-3" role="button"><i class="fa-solid fa-share"></i></span></div>
			  <div class="text-muted small"><i class="fa-regular fa-bookmark"></i></div>
			</div>
			<div class="text-muted small">128 likes</div>
			<div class=""><strong>alice</strong> Sunset at the hilltop</div>
		</div>
      </article><hr>

      <!-- Example Multiple Post (Carousel) -->
      <article class="post-card">
        <div class="d-flex align-items-center gap-3 mb-2 content">
          <img src="https://i.pravatar.cc/150?img=6" class="profile-avatar">
          <div><div class="fw-bold">bob</div><div class="text-muted small">Sept 13, 2025</div></div>
        </div>
        <div id="bobCarousel" class="carousel slide post-carousel" data-bs-ride="carousel">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#bobCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#bobCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#bobCarousel" data-bs-slide-to="2"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active"><img src="https://picsum.photos/800/800?random=10" class="d-block w-100" alt="..."></div>
            <div class="carousel-item"><img src="https://picsum.photos/800/800?random=11" class="d-block w-100" alt="..."></div>
            <div class="carousel-item"><img src="https://picsum.photos/800/800?random=12" class="d-block w-100" alt="..."></div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#bobCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
          <button class="carousel-control-next" type="button" data-bs-target="#bobCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
        </div>
		<div class="content">
			<div class="d-flex justify-content-between align-items-center" style="margin-top: 5px;">
			  <div class="actions"><span class="me-3 like-btn" role="button">❤</span><span class="me-3" role="button"><i class="fa-regular fa-comment"></i></span><span class="me-3" role="button"><i class="fa-solid fa-share"></i></span></div>
			  <div class="text-muted small"><i class="fa-regular fa-bookmark"></i></div>
			</div>
			<div class="text-muted small">58 likes</div>
			<div class=""><strong>bob</strong> Coffee vibes from this week</div>
		</div>
      </article><hr>


      <!-- Example Collage Post -->
      <article class="post-card">
        <div class="d-flex align-items-center gap-3 mb-2 content">
          <img src="https://i.pravatar.cc/150?img=7" class="profile-avatar">
          <div><div class="fw-bold">charlie</div><div class="text-muted small">Sept 14, 2025</div></div>
        </div>
        <div class="collage-container">
            <img src="https://picsum.photos/400/800?random=20" alt="collage main" class="main-photo">
            <div class="side-photos">
                <img src="https://picsum.photos/400/400?random=21" alt="collage side 1">
                <img src="https://picsum.photos/400/400?random=22" alt="collage side 2">
            </div>
        </div>
		<div class="content">
			<div class="d-flex justify-content-between align-items-center" style="margin-top: 5px;">
			  <div class="actions"><span class="me-3 like-btn" role="button">❤</span><span class="me-3" role="button"><i class="fa-regular fa-comment"></i></span><span class="me-3" role="button"><i class="fa-solid fa-share"></i></span></div>
			  <div class="text-muted small"><i class="fa-regular fa-bookmark"></i></div>
			</div>
			<div class="text-muted small">542 likes</div>
			<div class=""><strong>Clip</strong> Coffee vibes from this week</div>
		</div>
      </article><hr>

    </main>

    <!-- RIGHT suggestions -->
		<aside class="col-12 col-lg-3 right-col d-none d-lg-block">
		  <div class="card p-3">
			<h6>Suggested for you</h6>
			<ul class="list-unstyled mb-0">
			  <li class="d-flex align-items-center justify-content-between py-2">
				<div class="d-flex align-items-center gap-2">
				  <img src="https://i.pravatar.cc/150?img=12" class="profile-avatar">
				  <div class="small"><div class="fw-bold">charlie</div><div class="text-muted">Followed by alice</div></div>
				</div>
				<button class="btn btn-sm btn-outline-primary">Follow</button>
			  </li>
			  <li class="d-flex align-items-center justify-content-between py-2">
				<div class="d-flex align-items-center gap-2">
				  <img src="https://i.pravatar.cc/150?img=13" class="profile-avatar">
				  <div class="small"><div class="fw-bold">david</div><div class="text-muted">New on platform</div></div>
				</div>
				<button class="btn btn-sm btn-outline-primary">Follow</button>
			  </li>
			  <li class="d-flex align-items-center justify-content-between py-2">
				<div class="d-flex align-items-center gap-2">
				  <img src="https://i.pravatar.cc/150?img=14" class="profile-avatar">
				  <div class="small"><div class="fw-bold">emma</div><div class="text-muted">Popular creator</div></div>
				</div>
				<button class="btn btn-sm btn-outline-primary">Follow</button>
			  </li>
			  <li class="d-flex align-items-center justify-content-between py-2">
				<div class="d-flex align-items-center gap-2">
				  <img src="https://i.pravatar.cc/150?img=15" class="profile-avatar">
				  <div class="small"><div class="fw-bold">frank</div><div class="text-muted">Followed by bob</div></div>
				</div>
				<button class="btn btn-sm btn-outline-primary">Follow</button>
			  </li>
			  <li class="d-flex align-items-center justify-content-between py-2">
				<div class="d-flex align-items-center gap-2">
				  <img src="https://i.pravatar.cc/150?img=16" class="profile-avatar">
				  <div class="small"><div class="fw-bold">grace</div><div class="text-muted">Trending now</div></div>
				</div>
				<button class="btn btn-sm btn-outline-primary">Follow</button>
			  </li>
			</ul>
		  </div>
		</aside>


  </div>
</div>

<!-- New Post Modal -->
<div class="modal fade" id="newPostModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <form id="newPostForm">
        <div class="modal-header"><h5 class="modal-title">Create post</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Post Type</label>
            <div class="d-flex gap-3">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="postType" id="singlePostRadio" value="single" checked>
                <label class="form-check-label" for="singlePostRadio">Single</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="postType" id="multiplePostRadio" value="multiple">
                <label class="form-check-label" for="multiplePostRadio">Multiple</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="postType" id="collagePostRadio" value="collage">
                <label class="form-check-label" for="collagePostRadio">Collage</label>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label" id="fileInputLabel">Image</label>
            <input type="file" name="image" id="postImageInput" class="form-control" accept="image/*" required>
            <small class="text-muted" id="fileInputHelp">Select 1 image.</small>
          </div>
          <div class="mb-3"><label class="form-label">Caption</label><textarea name="caption" class="form-control" rows="3"></textarea></div>
        </div>
        <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button><button type="submit" class="btn btn-primary">Post</button></div>
      </form>
    </div>
  </div>
</div>

<!-- Bottom Navigation Bar for small screens -->
<nav class="bottom-nav-bar d-md-none">
  <a class="nav-link" href="#"><i class="fa-solid fa-house"></i></a>
  <a class="nav-link" href="#"><i class="fa-regular fa-compass"></i></a>
  <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#newPostModal"><i class="fa-solid fa-plus"></i></a>
  <a class="nav-link" href="#"><i class="fa-regular fa-paper-plane"></i></a>
  <a class="nav-link" href="#"><i class="fa-regular fa-user"></i></a>
</nav>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  document.querySelectorAll('.like-btn').forEach(function(el){
    el.addEventListener('click', function(){
      if(el.classList.contains('liked')){ el.classList.remove('liked'); el.textContent='❤'; }
      else{ el.classList.add('liked'); el.textContent='💖'; }
    });
  });

  const postImageInput = document.getElementById('postImageInput');
  const fileInputLabel = document.getElementById('fileInputLabel');
  const fileInputHelp = document.getElementById('fileInputHelp');
  const postFeed = document.getElementById('post-feed');

  document.querySelectorAll('input[name="postType"]').forEach(radio => {
    radio.addEventListener('change', (e) => {
      const type = e.target.value;
      if (type === 'single') {
        postImageInput.removeAttribute('multiple');
        fileInputLabel.textContent = 'Image';
        fileInputHelp.textContent = 'Select 1 image.';
      } else if (type === 'multiple') {
        postImageInput.setAttribute('multiple', 'multiple');
        fileInputLabel.textContent = 'Images';
        fileInputHelp.textContent = 'Select multiple images.';
      } else if (type === 'collage') {
        postImageInput.setAttribute('multiple', 'multiple');
        fileInputLabel.textContent = 'Images';
        fileInputHelp.textContent = 'Select exactly 3 images for a collage.';
      }
      postImageInput.value = ''; // Clear selected files
    });
  });

  document.getElementById('newPostForm').addEventListener('submit', function(e){
    e.preventDefault();
    const postType = document.querySelector('input[name="postType"]:checked').value;
    const files = postImageInput.files;
    const caption = e.target.querySelector('textarea[name="caption"]').value;

    if (postType === 'collage' && files.length !== 3) {
      alert('Please select exactly 3 images for a collage.');
      return;
    }
    
    // Create URLs for the images
    const imageUrls = Array.from(files).map(file => URL.createObjectURL(file));
    
    // Create a new post element
    const newPost = createPostElement(postType, imageUrls, caption);
    postFeed.prepend(newPost);

    var modal = bootstrap.Modal.getInstance(document.getElementById('newPostModal'));
    modal.hide();

    e.target.reset(); // Reset form after submission
  });

  function createPostElement(type, imageUrls, caption) {
    const postCard = document.createElement('article');
    postCard.className = 'post-card';
    const randomUser = 'https://i.pravatar.cc/150?img=' + Math.floor(Math.random() * 20);
    const randomUsername = 'user' + Math.floor(Math.random() * 1000);
    const date = new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
    const randomLikes = Math.floor(Math.random() * 500);

    let contentHTML = '';

    if (type === 'single') {
      contentHTML = `<img src="${imageUrls[0]}" alt="post" class="post-image">`;
    } else if (type === 'multiple') {
      const carouselId = 'carousel-' + Date.now();
      const carouselItems = imageUrls.map((url, index) => {
        return `<div class="carousel-item ${index === 0 ? 'active' : ''}"><img src="${url}" class="d-block w-100" alt="post image"></div>`;
      }).join('');
      contentHTML = `
        <div id="${carouselId}" class="carousel slide post-carousel" data-bs-ride="carousel">
          <div class="carousel-indicators">
            ${imageUrls.map((_, index) => `<button type="button" data-bs-target="#${carouselId}" data-bs-slide-to="${index}" class="${index === 0 ? 'active' : ''}"></button>`).join('')}
          </div>
          <div class="carousel-inner">${carouselItems}</div>
          <button class="carousel-control-prev" type="button" data-bs-target="#${carouselId}" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
          <button class="carousel-control-next" type="button" data-bs-target="#${carouselId}" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
        </div>
      `;
    } else if (type === 'collage') {
      contentHTML = `
        <div class="collage-container">
            <img src="${imageUrls[0]}" alt="collage main" class="main-photo">
            <div class="side-photos">
                <img src="${imageUrls[1]}" alt="collage side 1">
                <img src="${imageUrls[2]}" alt="collage side 2">
            </div>
        </div>
      `;
    }

    postCard.innerHTML = `
      <div class="d-flex align-items-center gap-3 mb-2 p-3">
        <img src="${randomUser}" class="profile-avatar">
        <div><div class="fw-bold">${randomUsername}</div><div class="text-muted small">${date}</div></div>
      </div>
      ${contentHTML}
      <div class="d-flex justify-content-between align-items-center p-3">
        <div class="actions"><span class="me-3 like-btn" role="button">❤</span><span class="me-3" role="button">💬</span><span class="me-3" role="button">🔗</span></div>
        <div class="text-muted small">${randomLikes} likes</div>
      </div>
      <div class="p-3"><strong>${randomUsername}</strong> ${caption}</div>
    `;

    // Add like button functionality for the new post
    postCard.querySelector('.like-btn').addEventListener('click', function() {
      if (this.classList.contains('liked')) {
        this.classList.remove('liked');
        this.textContent = '❤';
      } else {
        this.classList.add('liked');
        this.textContent = '💖';
      }
    });

    return postCard;
  }
  
  const storiesContainer = document.querySelector('.story-scroll-area');
  const scrollLeftBtn = document.getElementById('scroll-btn-left');
  const scrollRightBtn = document.getElementById('scroll-btn-right');

  function updateScrollButtons() {
    const isAtStart = storiesContainer.scrollLeft === 0;
    const isAtEnd = storiesContainer.scrollLeft + storiesContainer.clientWidth >= storiesContainer.scrollWidth;

    if (isAtStart) {
        scrollLeftBtn.classList.add('hidden');
    } else {
        scrollLeftBtn.classList.remove('hidden');
    }

    if (isAtEnd) {
        scrollRightBtn.classList.add('hidden');
    } else {
        scrollRightBtn.classList.remove('hidden');
    }
  }
  
  function scrollStories(direction) {
    const scrollAmount = storiesContainer.clientWidth / 2;
    storiesContainer.scrollBy({
        left: direction * scrollAmount,
        behavior: 'smooth'
    });
  }

  storiesContainer.addEventListener('scroll', updateScrollButtons);
  window.addEventListener('resize', updateScrollButtons);
  window.addEventListener('DOMContentLoaded', updateScrollButtons);

</script>
</body>
</html>
